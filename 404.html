<script>
    (function() {
        const path = window.location.pathname;
        
        // Normalize path (remove extra slashes)
        let cleanPath = '/' + path.replace(/^\/+/, '').replace(/\/+/g, '/');

        // Match sports URLs
        const sportsPattern = /^\/sports\/([^\/]+)(?:\/([^\/]+))?$/;
        const sportsMatch = cleanPath.match(sportsPattern);

        if (sportsMatch) {
            const sport = sportsMatch[1];
            const team = sportsMatch[2] || '';

            // Store values for potential use later
            sessionStorage.setItem('redirectSport', sport);
            if (team) {
                sessionStorage.setItem('redirectTeam', team);
            }

            // Use absolute URL with origin to prevent path duplication
            window.location.href = window.location.origin + '/sports';
        } else {
            document.addEventListener('DOMContentLoaded', function() {
                document.getElementById('error-container').style.display = 'block';
            });
        }

        // Expose navigateToHome function globally for button click
        window.navigateToHome = function() {
            window.location.href = window.location.origin + '/sports';
        };
    })();
</script>
